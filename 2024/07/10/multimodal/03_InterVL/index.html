

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/profile.png">
  <link rel="icon" href="/img/profile.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="AIrainday">
  <meta name="keywords" content="博客 AI 好用工具 个人成长 AIrainday">
  
    <meta name="description" content="论文概述文章指出目前视觉和视觉-语言（vison-language）基础模型的发展却滞后于大语言模型（large language models，LLMs）的快速发展；为了将视觉模型和LLMs连接，目前的VLLMs（视觉大语言模型）通常采用“胶水层”，比如QFormer或者线性映射层，他们的目的是对其视觉和语言模型的特征。作者指出这种方式的三个可能的缺陷： (1) 视觉和语言模型参数之间的差异：目">
<meta property="og:type" content="article">
<meta property="og:title" content="03_InterVL">
<meta property="og:url" content="http://example.com/2024/07/10/multimodal/03_InterVL/index.html">
<meta property="og:site_name" content="AIrainday">
<meta property="og:description" content="论文概述文章指出目前视觉和视觉-语言（vison-language）基础模型的发展却滞后于大语言模型（large language models，LLMs）的快速发展；为了将视觉模型和LLMs连接，目前的VLLMs（视觉大语言模型）通常采用“胶水层”，比如QFormer或者线性映射层，他们的目的是对其视觉和语言模型的特征。作者指出这种方式的三个可能的缺陷： (1) 视觉和语言模型参数之间的差异：目">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715173257718.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715193734938.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715215445829.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715192224428.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716063752721.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716070839933.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716092213566.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716094340428.png">
<meta property="article:published_time" content="2024-07-10T07:23:16.000Z">
<meta property="article:modified_time" content="2024-07-17T13:44:31.495Z">
<meta property="article:author" content="AIrainday">
<meta property="article:tag" content="multimodal">
<meta property="article:tag" content="InterVL">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715173257718.png">
  
  
  
  <title>03_InterVL - AIrainday</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/cloudedGlass.css">
<link rel="stylesheet" href="/css/selection.css">
<link rel="stylesheet" href="/css/scrollAnimation.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":40,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"whA7rfxiLejveyKSnTVJcE67-MdYXbMMI","app_key":"yXRvXVt4CzAiXMxTL0XK9qES","server_url":"https://shuoshuo.rainblog.run","path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.2.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <header>
    


<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>AIrainday</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                <span>文章</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/archives/" target="_self">
                    <i class="iconfont icon-archive-fill"></i>
                    <span>归档</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/" target="_self">
                    <i class="iconfont icon-category-fill"></i>
                    <span>分类</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/tags/" target="_self">
                    <i class="iconfont icon-tags-fill"></i>
                    <span>标签</span>
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shuoshuo" target="_self">
                <i class="iconfont icon-note"></i>
                <span>语录</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  <!-- 

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="03_InterVL"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-07-10 15:23" pubdate>
          2024年7月10日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          13 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>
 -->
  

<div id="banner" class="banner" data-title="value" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="03_InterVL"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-07-10 15:23" pubdate>
          2024年7月10日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          13 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

<script>
  function getRandomNumber(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

var randomNum = getRandomNumber(0, 3).toString();

var img_names = document.getElementById('banner').getAttribute('data-title');

var banner_img = "/img/rain-random-bg/0" + randomNum + ".jpg";
document.getElementById('banner').removeAttribute('style')

document
  .querySelector('#web_bg')
  .setAttribute('style', `background: url('${banner_img}'); position: fixed; width: 100%;height: 100%; z-index: -1; background-size: cover;`);
  
document
  .querySelector("#banner .mask")
  .setAttribute('style', 'background-color:rgba(0,0,0,0)')

</script>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="multimodal"
        id="heading-d6fa5adbdf3a083906993078ec4b951d" role="tab" data-toggle="collapse" href="#collapse-d6fa5adbdf3a083906993078ec4b951d"
        aria-expanded="true"
      >
        multimodal
        <span class="list-group-count">(9)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-d6fa5adbdf3a083906993078ec4b951d"
           role="tabpanel" aria-labelledby="heading-d6fa5adbdf3a083906993078ec4b951d">
        
        
          
  <div class="category-post-list">
    
    
    
      
      
        <a href="/2024/07/10/multimodal/01_CN-CLIP/" title="01_CN-CLIP"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">01_CN-CLIP</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/02_BEiT3/" title="02_BEiT3"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">02_BEiT3</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/03_InterVL/" title="03_InterVL"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">03_InterVL</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/04_M2Encoder/" title="04_M2Encoder"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">04_M2Encoder</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/" title="多模态评价指标"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">多模态评价指标</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/%E6%95%B0%E6%8D%AE%E9%9B%86/" title="多模态数据集"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">多模态数据集</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/%E5%A4%9A%E6%A8%A1%E6%80%81%E6%A8%A1%E5%9E%8B%E5%BE%AE%E8%B0%83/" title="多模态微调"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">多模态微调</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/%E5%88%86%E8%AF%8D%E6%96%B9%E6%B3%95/" title="分词方法"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">分词方法</span>
        </a>
      
    
      
      
        <a href="/2024/07/10/multimodal/clip/" title="clip"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">clip</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">03_InterVL</h1>
            
              <p id="updated-time" class="note note-info" style="">
                
                  
                    本文最后更新于 2024年7月17日 晚上
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="论文"><a href="#论文" class="headerlink" title="论文"></a>论文</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>文章指出目前视觉和视觉-语言（vison-language）基础模型的发展却滞后于大语言模型（large language models，LLMs）的快速发展；为了将视觉模型和LLMs连接，目前的VLLMs（视觉大语言模型）通常采用“胶水层”，比如QFormer或者线性映射层，他们的目的是对其视觉和语言模型的特征。作者指出这种方式的三个可能的缺陷：</p>
<p>(1) 视觉和语言模型参数之间的差异：目前VLLMs常用的视觉编码器参数通常在1B，但是有些大的LLMs参数已经达到了1000B</p>
<p>(2) 不一致的特征表示，视觉模型通常是在纯视觉数据上训练或者与BERT系列语言模型对齐，与LLMs的特征表示存在不一致（啥意思，没太懂）</p>
<p>(3) “胶水层”参数太少，这可能无法捕捉到对多模态理解和生成至关重要的丰富的<em>跨模态交互和依赖关系</em></p>
<p>问题已经提出，作者给出的解决方案就是提升视觉模型参数使其达到LLMs模型参数规模，并且使两者表示能够更好的融合。</p>
<p>具体来说，作者引入InternVL模型，有着以下三点关键的设计：</p>
<p>(1) 视觉和语言模型参数平衡：vision encoder可达6B参数，LLM中间件（将LLM模型看作一个中间件）则有8B参数</p>
<p>(2) 一致的表示：为了让vision encoder和LLM的特征表示保持一致，用预训练的multilingual LLaMA初始化LLM中间件并与vision encoder对齐</p>
<p>(3) 渐进式图文对齐：渐进式学习策略——现在大规模含有噪声的数据上进行对比学习，然后在好一些的数据上进行生成学习（generative learning）</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715173257718.png" srcset="/img/loading.gif" lazyload alt="image-20240715173257718"></p>
<h2 id="相关工作"><a href="#相关工作" class="headerlink" title="相关工作"></a>相关工作</h2><p>作者列举了一些视觉模型和大语言模型的发展进程。视觉模型从AlexNet-&gt;ResnetNet-&gt;ViT及其变体；大预言模型则有GPT-3、GPT-4以及开源的大预言模型：LLaMA series , Vicuna , InternLM, MOSS, ChatGLM , Qwen, Baichuan , Falcon等等。</p>
<p>最后提到了VLLMs的发展，目前VLLMs（视觉大预言模型）的目的是增强其处理和解释视觉信息的能力，GPT-4, LLaVA series，MiniGPT-4 引入了视觉指令调优技术（通过向模型提供包含视觉和语言信息的指令进行训练，以增强其在处理和理解视觉任务时的能力。这种调优方法旨在提高视觉语言模型对指令的遵循能力）；VisionLLM ，KOSMOS-2和Qwen - VL改进了VLLM，使其具有视觉基础能力，便于区域描述和定位等任务（指的是分割或者检测等基础视觉任务）；PaLM-E 和Embodied GPT代表了将VLLM应用于具身应用（embodied applications，比如机器人，自动驾驶等领域）的先进努力，显著扩展了它们的潜在应用。</p>
<h2 id="具体方法细节"><a href="#具体方法细节" class="headerlink" title="具体方法细节"></a>具体方法细节</h2><h3 id="网络结构"><a href="#网络结构" class="headerlink" title="网络结构"></a>网络结构</h3><blockquote>
<p>InternVL is designed with a vision encoder InternViT-6B and a language middleware QLLaMA. InternViT-6B is a vision transformer with 6 billion parameters, customized to achieve a favorable tradeoff between performance and efficiency. QLLaMA is a language middleware with 8 billion parameters, initialized with a multilingual-enhanced LLaMA.</p>
</blockquote>
<p><em>InternViT-6B</em>就是普通的ViT模型结构，作者对比了不通参数组合方式，最终确定模型结构如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715193734938.png" srcset="/img/loading.gif" lazyload alt="image-20240715193734938"></p>
<p><em>QLLaMA</em> is developed based on the pre-trained multilingual LLaMA , <em>and newly added 96 learnable queries and cross-attention layers (1 billion parameters) that are randomly initialized.</em></p>
<p>作者说他们的模型就行瑞士军刀一样可以变换形态以实现多种功能：下图的a，b可用于contrastive任务；c，d可用于multi-modal dialogue任务；而训练好的ViT-6B可以用于visual perception tasks任务，比如分类和检测。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715215445829.png" srcset="/img/loading.gif" lazyload alt="image-20240715215445829"></p>
<h3 id="训练策略"><a href="#训练策略" class="headerlink" title="训练策略"></a>训练策略</h3><p>训练由三个阶段组成：VL对比训练，VL生成训练，以及监督微调。不同阶段用到了不同的数据，有带噪声的图文对、高质量的caption，VQA以及多模态对话数据。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240715192224428.png" srcset="/img/loading.gif" lazyload alt="image-20240715192224428"></p>
<p><strong>Vision-Language Contrastive Training</strong>：The data are all publicly available and comprise multilingual content, including LAION-en , LAIONmulti , LAION-COCO , COYO , Wukong , etc. We use the combination of these datasets and filter out some extremely low-quality data to train our model. 该阶段的训练可以使模型具备零样本图像分类和图文检索，并且其中的视觉编码器可以用于语义分割任务。这一阶段损失函数和CLIP的symmetric cross-entropy loss一样（ITC）。</p>
<p>第一阶段和第二阶段用到的图文对数据如下，cleaned表示去除匹配度很低的图文对数据。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716063752721.png" srcset="/img/loading.gif" lazyload alt="image-20240716063752721"></p>
<p><strong>Vision-Language Generative Training：</strong>we connect InternViT-6B with QLLaMA and adopt a generative training strategy. Specifically, QLLaMA inherits the weights of LLaMA-7B in the first stage. We keep both InternViT-6B and QLLaMA frozen and only train the newly added learnable queries and cross-attention layers with filtered, high-quality data.</p>
<p>数据如上表所示，也是图文对数据，不过是进一步清洗后的。所采用损失函数和BLIP-2一致：the loss in this stage is computed as the sum of three components: image-text contrastive (ITC) loss, image-text matching (ITM) loss, and image-grounded text generation (ITG) loss.</p>
<p><strong>Supervised Fine-tuning</strong>：为了证明InternVL在多模态对话系统中的有效性，利用MLP层将InternVL和已训练好的大预言模型解码器，比如Vicuna，InternLM连接起来，并执行监督微调（SFT）。用到的数据是高质量的 instruction data，大约4B，如下表所示。微调时仅训练MLP层的参数，或者训练MLP和QLLaMA参数，论文里是这样写的：Owing to the similar feature space of QLLaMA and LLMs, we can achieve robust performance even when freezing the LLM decoder, choosing to train just the MLP layer or both the MLP layer and QLLaMA. <em>但是训练流程图中好像画错了，是冻住或者训练Vicuna-13B而不是QLLaMA</em>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716070839933.png" srcset="/img/loading.gif" lazyload alt="image-20240716070839933"></p>
<h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p>针对这个模型可以执行的任务，作者分别在不同任务上进行对比。分为三个基准测试（Benchmarks），Benchmarks包括一组标准的数据集和评估指标，用于衡量模型在特定任务上的表现。</p>
<h3 id="Vision-Perception-Benchmarks"><a href="#Vision-Perception-Benchmarks" class="headerlink" title="Vision Perception Benchmarks"></a>Vision Perception Benchmarks</h3><p>ImageNet1k数据集上评估ViT-6B图像分类能力，下面是冻住Backbone用ImageNet1k训练集微调分类线性层后，在ImageNet1k验证集及ImageNet1k的一些变体数据集上的结果。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716092213566.png" srcset="/img/loading.gif" lazyload alt="image-20240716092213566"></p>
<p>以及在ADE20k上评估语义分割能力，具体数据就不放了，可以看原论文。</p>
<p>作者的对比很有意思，只和一些模型进行对比，但其实这些结果在总体榜单上排名并不高。或许是只对比同类或者同种方法的模型吧，其实和这些数据集上的SOTA模型差距还不小。</p>
<h3 id="Vision-Language-Benchmarks"><a href="#Vision-Language-Benchmarks" class="headerlink" title="Vision-Language Benchmarks"></a>Vision-Language Benchmarks</h3><p>vision-language tasks也包含很多，比如Zero-Shot Image Classification、Zero-Shot Video Classification、Zero-Shot Image-Text Retrieval、Zero-Shot Image Captioning等等。</p>
<p>这里只贴上Image-Text Retrieval的结果：很奇怪的是为什么英文数据集上不和Beit3对比呢？其实是要比Beit3在Flickr30k上的效果要好的。</p>
<p><img src="https://cdn.jsdelivr.net/gh/airainday/blogimage@main/image-20240716094340428.png" srcset="/img/loading.gif" lazyload alt="image-20240716094340428"></p>
<h3 id="Multi-Modal-Dialogue-Benchmarks"><a href="#Multi-Modal-Dialogue-Benchmarks" class="headerlink" title="Multi-Modal Dialogue Benchmarks"></a>Multi-Modal Dialogue Benchmarks</h3><p>略</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/multimodal/" class="category-chain-item">multimodal</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/multimodal/" class="print-no-link">#multimodal</a>
      
        <a href="/tags/InterVL/" class="print-no-link">#InterVL</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <!-- <article class="post-prev col-6">
                    
                    
                      <a href="/2024/07/10/multimodal/02_BEiT3/" title="02_BEiT3">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">02_BEiT3</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article> -->
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/07/10/multimodal/02_BEiT3/" title="02_BEiT3">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">02_BEiT3</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>

                  <!-- <article class="post-next col-6">
                    
                    
                      <a href="/2024/07/10/multimodal/04_M2Encoder/" title="04_M2Encoder">
                        <span class="hidden-mobile">04_M2Encoder</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article> -->
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/07/10/multimodal/04_M2Encoder/" title="04_M2Encoder">
                        <i class="iconfont icon-arrowright"></i>
                        <span class="hidden-mobile">04_M2Encoder</span>
                        <span class="visible-mobile">下一篇</span>
                      </a>
                    
                  </article>
                  
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createCssLink('https://cdn.staticfile.org/waline/2.15.5/waline.min.css')
      Fluid.utils.createScript('https://cdn.staticfile.org/waline/2.15.5/waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"waline.rainblog.run","path":"window.location.pathname","meta":["nick","mail","link"],"requiredMeta":["nick"],"lang":"zh-CN","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"dark":"html[data-user-color-scheme=\"dark\"]","wordLimit":0,"pageSize":10,"locale":{"placeholder":"哈，快找个位置随便坐~"}},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        Waline.init(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          var imgSelector = '#waline .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    

<div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  

  <div class="runtime">
    <!-- 网站已运行时间 -->
    <span id="runtime_span">加载中...</span>
  </div>

  <!-- 页脚的一言 -->
  <!-- <div class="statistics">
    <a target="_blank" rel="noopener" href="https://developer.hitokoto.cn/" id="hitokoto_text"><span style="color: #DDD;"  id="hitokoto"></span></a>
    <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
  </div>   -->

  
  

  
    <!-- 备案信息 ICP for Moe -->
    <div class="moe_beian">
    <span>
      <a href="https://icp.gov.moe/" target="_blank" rel="nofollow noopener">
        
      </a>
    </span>
    
      
        <span title="233333">
          <a
            href="https://icp.gov.moe/?keyword=20240531"
            rel="nofollow noopener"
            class="beian-moe"
            target="_blank"
          >
            
              <span style="visibility: hidden; width: 0">|</span>
              <img src="/img/moe_beian.png" srcset="/img/loading.gif" lazyload alt="moe-icon"/>
            
            <span>萌ICP备20240531号</span>
          </a>
        </span>
      
    
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>




  
<script src="/js/runtime.js"></script>
<script src="/js/scrollAnimation.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
